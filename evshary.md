---
timezone: UTC+8
---

# evshary

1. 自我介绍：
     Web3 新手，最近對區塊鏈相關知識非常有興趣，想透過殘酷共學跟大家一起學習。
2. 你认为你会完成本次残酷学习吗？
     會
3. 你的联系方式（推荐 Telegram）
     t.me/evshary

## Notes

<!-- Content_START -->

### 2025.05.14

#### 為何需要 EIP-7702 （目前遇到什麼問題）

以太坊主要有兩種位址：
1. EOA (Externally Owned Accounts)
2. 智能合約帳戶 (Contract Account)

在 EIP-7702 之前，EOA 的功能相對簡單，主要是發送交易功能。不能像是智能合約錢包能夠執行程式碼。
因此使用者必須要先把資產轉移到智能合約錢包，對使用者來說十分麻煩。

在 EIP-7702 之後，EOA 就能支援批次交易處理、gas 贊助、或是複雜權限管理，少了一個轉帳的動作。EOA 更加接近抽象帳戶的概念。

#### EIP-7702 的運作方式

1. 使用者用 EOA 創建新的交易類型
2. 交易中會指定一個智能合約地址，EOA 在該交易中會臨時地像這個智能合約一樣運作
3. 用 EOA 私鑰簽署交易
4. EVM 在處理這筆交易時，會臨時地將發送方的 EOA 視為位於指定智能合約地址的合約，並執行該合約地址上的程式碼
5. 完成交易後，EOA 會回復正常模式

#### 引入 EIP-7702 的可能風險

1. 委託的智能合約如果沒有適當的存取限制，攻擊者可以存取 EOA 內的所有資產
2. 開發者確保初始化程式碼有正確的執行，不然可能會有邏輯錯誤或是被攻擊者利用
3. 委託程式碼不會清除現有儲存，因此某些變數在切換合約時可能會遺留舊數據
4. 過去 EOA 相對來說被認為比較安全，現在也引入了智能合約相關的風險

### 2025.05.15

學習目標：比較 EIP-4337 和 EIP-6551

#### EIP-4337

完整實現帳戶抽象，允許使用者直接用智能合約帳戶當成自己的以太坊帳戶。
這些帳戶就如同智能合約可以執行程式，如多重簽名、恢復帳戶等等進階功能。

* 優點：
  * 完整帳戶抽象：使用者可以直接擁有智能合約帳戶的各種進階功能
  * 不需要硬分叉：沒有改變以太坊的共識機制
* 缺點：
  * 無法無痛移轉：使用者需要創建並管理新的智能合約帳戶
  * 複雜性高：智能合約帳戶本身就比 EOA 複雜
  * 風險提高：會有智能合約相關的風險

#### EIP-6551

允許 NFT 有自己的智能合約帳戶，也就是 TBA (Token-Bound Account)。
這樣 NFT 就不再只是收藏品，也有管理資產以及跟其他 DApp 互動的能力。
這個帳戶由 NFT 的擁有者所控制。

* 優點：
  * 提高 NFT 價值：讓 NFT 能夠管理資產
  * 簡化體驗：和 NFT 相關的資產可以一起管理
* 缺點：
  * 依賴 ERC-721：只針對 ERC-721 的 NFT
  * 風險提高：會有智能合約相關的風險

#### 小結

簡單來說，EIP-7702 是讓使用者最低成本享受到智能合約功能的方式，不像是 EIP-4337 需要重新創個帳戶。
至於 EIP-6551 則只是針對 NFT，這就是另一個故事了。

<!-- Content_END -->
