---
timezone: UTC+8
---

> 请在上边的 timezone 添加你的当地时区(UTC)，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区

# Tofu

1. 自我介绍：本人拥有半年的区块链资金追踪工作经验。
2. 你认为你会完成本次残酷学习吗？会
3. 你的联系方式（推荐 Telegram）：@blahole

## Notes

<!-- Content_START -->

### 2025.05.14
#### 账户抽象的背景和动机
1. 外部拥有账户（Externally Owned Accounts, EOAs）是以太坊区块链中最基础的账户类型，由用户通过私钥直接控制。与智能合约账户（Contract Accounts, 
CAs）不同，EOAs的功能较为简单，主要用于发起交易、转账以太币（ETH）以及与智能合约交互。
2. 智能合约账户（Contract Accounts, CAs）是以太坊区块链中的一种账户类型，与外部拥有账户（Externally Owned Accounts, EOAs）相对。与EOAs由私钥控制不同，CAs由部署在区块链上的智能合约代码控制，具备高度的可编程性和灵活性，能够实现复杂的逻辑和自动化操作。
3. 账户抽象（Account Abstraction）  
   * 账户抽象是以太坊生态系统中的一个重要概念，旨在通过改进账户模型，增强以太坊的灵活性、安全性和用户体验。它试图模糊以太坊中外部拥有账户（Externally Owned Accounts,
   EOAs）和智能合约账户（Contract Accounts, CAs）之间的界限，使所有账户都具有可编程性，从而实现更复杂的交易逻辑、更低的使用门槛和更强的安全性。  
   * 以太坊账户抽象通过赋予所有账户可编程性，重塑了用户体验、安全性和开发者灵活性。ERC-4337和EIP-7702
   作为核心实现路径，分别通过链下基础设施和协议级修改推动了这一目标。账户抽象的优势包括简化操作、增强安全性、支持创新和金融包容性，但也面临安全风险、Gas成本和生态迁移等挑战。  
   * 账户抽象被认为是实现以太坊“终极账户抽象”（Endgame Account Abstraction）的关键步骤，最终目标是让所有账户默认具备智能合约功能，同时保持简单性和低成本。

### 2025.05.15
#### 深入了解账户抽象
1. 账户抽象的核心概念  
账户抽象的核心是将账户的验证逻辑和执行逻辑从协议层面下放到用户定义的智能合约层面。具体来说，它允许用户自定义以下方面：

   - 验证逻辑（Signature Verification）  
传统EOAs依赖ECDSA签名验证，账户抽象允许用户定义任意验证机制，例如：  
多重签名（Multi-Sig）：需多个密钥持有人同意。  
替代签名方案：如Schnorr签名、WebAuthn、手机通行密钥。  
无私钥验证：如基于生物识别或零知识证明（ZKP）。  
这种灵活性提高了安全性和用户体验，支持量子抗性签名等未来技术。  

   - 执行逻辑（Execution Logic）  
账户抽象允许用户定义交易的执行方式，例如：  
批量交易（Batching）：将多个操作（如授权、转账）合并为单笔交易，减少Gas费用和用户交互。  
权限控制（Spending Controls）：设置交易限制，如每日转账上限或特定DApp的代币支出额度。  
自动化操作：支持订阅支付、定投（DCA）、自动申领空投等。  

   - Gas支付灵活性  
传统EOAs要求用户支付Gas费用（需持有ETH），账户抽象允许：
Gas赞助（Gas Sponsorship）：第三方（如DApp或钱包提供商）支付Gas费用。
支付代币多样化：允许用ERC-20代币（如USDC）支付Gas。
这降低了新用户进入门槛，提升了金融包容性。

   - 社交恢复（Social Recovery）  
账户抽象支持用户指定“守护者”（如朋友、家人）或恢复机制（如多签），在私钥丢失时恢复账户。无需创建新地址或迁移资产，简化了恢复流程。  

   - 协议级抽象  
账户抽象将账户逻辑从以太坊协议（EVM）中解耦，交给智能合约处理，减少对核心协议的修改，保持兼容性。  
     

2. 账户抽象的实现路径  
以太坊社区通过多个提案和标准推动账户抽象，主要包括ERC-4337、EIP-7702（替代EIP-3074）等。以下是详细介绍：  
   
   - EIP-2938：提议将账户抽象直接集成到以太坊协议，引入原生支持（需重大协议修改，短期内未采纳）。

   - EIP-3074（2020年提出，已被EIP-7702替代）：引入AUTH和AUTHCALL操作码，允许EOAs授权智能合约执行交易。

   - ERC-4337（2023年发布）：ERC-4337是一种通过链下基础设施实现账户抽象的标准，无需修改以太坊协议。引入“用户操作”（User Operations, UserOps）：用户发送包含自定义逻辑的交易请求。

   - ERC-7201：定义命名空间标准，防止存储冲突。

   - EIP-7702（2024年提出，替代EIP-3074）：EIP-7702是账户抽象的最新进展，旨在通过协议级修改增强EOAs功能，已纳入Pectra升级（预计2025年5月上线）。

   - ERC-7779（草案）：标准化重新委托流程，优化EIP-7702实现。


3. 账户抽象的优势  
   - 用户体验提升：
批量交易和Gas赞助简化操作，降低Gas费用。
无需持有ETH即可交易，吸引新用户。
社交恢复和权限控制降低资产丢失风险。

   - 安全性增强：
自定义验证逻辑支持多签、WebAuthn等，减少私钥依赖。
权限控制防范钓鱼攻击和未经授权的支出。
未来可支持量子抗性签名。

   - 开发者灵活性：
开发者可设计复杂交互逻辑，如自动化的DeFi策略、NFT竞标、链上游戏。
支持AI代理操作，如自动优化投资组合。

   - 生态整合：
EIP-7702和ERC-4337的兼容性减少了生态碎片化。
支持跨链统一余额和与传统金融系统的整合。

   - 金融包容性：
Gas赞助和支付代币多样化降低了使用门槛，吸引新兴市场用户。


4. 账户抽象的挑战与风险
   - 安全风险：
恶意合约：授权的智能合约可能包含漏洞或恶意逻辑，需严格审计。
钓鱼攻击：用户可能被诱导签名恶意授权，导致资金全损。
存储冲突：重新委托时，合约存储结构不兼容可能导致账户锁定（可通过ERC-7201缓解）。

   - Gas成本：
对于简单转账，账户抽象的Gas成本高于传统EOA（EIP-7702约增加50%）。
复杂逻辑（如权限检查）可能显著增加Gas费用。

   - 基础设施依赖：
ERC-4337依赖打包者和中继者，可能引入中心化风险或单点故障。
需开发者和钱包广泛支持新交易类型（如EIP-7702）。

   - 用户教育：
普通用户可能难以理解授权签名和智能合约的风险。
需钱包提供直观的界面和安全提示。

   - 生态迁移：
现有DApp和钱包需更新以支持账户抽象，短期内可能面临兼容性问题。
社区需协调标准（如ERC-7201、ERC-7779）以确保一致性。
     

5. 账户抽象的未来  
账户抽象是以太坊迈向主流采用的关键技术，其未来发展方向包括：

   - Pectra升级（2025年5月）：
EIP-7702将作为核心组件上线，预计显著提升EOA功能。
其他提案（如EIP-7251）可能进一步优化账户逻辑。

   - 标准化与互操作性：
ERC-7201、ERC-7779等标准将确保存储安全和重新委托的可靠性。
跨链签名标准可能进一步统一多链生态。

   - 用户教育与安全：
钱包需开发直观的界面，提示授权风险。
社区需推广合约审计和安全最佳实践。

   - AI与链上自治：
账户抽象将推动AI驱动的链上代理，开启去中心化自治组织（DAO）的新篇章。

   - 量子抗性：
账户抽象支持的自定义签名方案为以太坊应对量子计算威胁提供了基础。
     

### 2025.05.16
#### ERC-4337

### 2025.05.17
#### EIP-7702

### 2025.05.18
#### EIP-7702对资金追踪的影响

<!-- Content_END -->
